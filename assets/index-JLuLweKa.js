(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function d(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=d(s);fetch(s.href,o)}})();let l=E("tasks"),S=E("active-tasks"),b=E("completed-tasks"),m=E("removed-tasks"),O=document.querySelector(".tasks-container"),I=document.querySelectorAll(".nav button"),h=document.querySelector(".input input"),B=document.querySelector(".input button"),P=document.querySelector(".header span"),$=document.querySelector(".footer p:first-child");h.addEventListener("keydown",function(e){e.key==="Enter"&&B.click()});B.addEventListener("click",function(){let e=!1;l.forEach(t=>{t.title===h.value&&(e=!0)}),h.value&&!e&&(g(h.value,!0,!1,!1),p("active"),h.value="")});let f=E("category",!0)||"all";window.addEventListener("load",function(){p(f)});I.forEach(e=>{e.addEventListener("click",function(){J(e.id),p(e.id),f=e.id,r("category",e.id,!0)})});function g(e,t,d,n){let s=!1;if([...O.children].forEach(o=>{[...o.children].forEach(c=>{c.textContent===e&&(s=!0)})}),!s){let o={title:e,completed:d,deleted:n},c=document.createElement("div");c.classList.add("task");let C=document.createElement("div");C.classList.add("checkbox");let k=document.createElement("input");k.type="checkbox",k.checked=d,k.addEventListener("change",function(){k.checked?(c.classList.add("completed"),o.completed=!0,l.forEach(a=>{a.title===i.textContent&&(a.completed=!0)}),r("tasks",l),u(),p(f)):(c.classList.remove("completed"),o.completed=!1,l.forEach(a=>{a.title===i.textContent&&(a.completed=!1)}),r("tasks",l),u(),p(f))});let T=document.createElement("i");T.classList.add("fa-solid","fa-check","checkmark"),C.append(k,T),!t&&d&&c.classList.add("completed");let i=document.createElement("p");i.classList.add("task-title"),i.textContent=e;let x=document.createElement("button");x.classList.add("delete-button"),x.addEventListener("click",function(){n?(l=l.filter(a=>a.title!==i.textContent),r("tasks",l),u(),c.remove()):(o.deleted=!0,l.forEach(a=>{a.title===i.textContent&&(a.deleted=!0)}),r("tasks",l),u(),c.remove()),y()}),c.append(C,i);let v=document.createElement("div");if(v.classList.add("holder"),n){let a=document.createElement("button");a.classList.add("undo-button");let N=document.createElement("i");N.classList.add("fas","fa-undo"),a.append(N),a.addEventListener("click",function(){m=m.filter(L=>L.title!==i.textContent),r("removed-tasks",m),l.forEach(L=>{L.title===i.textContent&&(L.deleted=!1)}),r("tasks",l),p(f),u(),y()}),v.append(a)}v.append(x),c.append(v);let q=!1;l.forEach(a=>{a.title===i.textContent&&(q=!0)}),t&&!q&&(l.push(o),r("tasks",l),u()),O.append(c),y()}}function y(){let e=l.filter(d=>!d.deleted).length;P.textContent=`${e} ${e===1?"Task":"Tasks"}`;let t=S.length;$.textContent=`${t} ${t===1?"task":"tasks"} remaining`}function r(e,t,d=!1){d?localStorage.setItem(e,t):e==="tasks"?localStorage.setItem(e,JSON.stringify(t)):e==="active-tasks"?localStorage.setItem(e,JSON.stringify(t.filter(n=>!n.completed))):e==="completed-tasks"?localStorage.setItem(e,JSON.stringify(t.filter(n=>n.completed))):localStorage.setItem(e,JSON.stringify(t.filter(n=>n.deleted)))}function E(e,t=!1){return t?localStorage.getItem(e)?localStorage.getItem(e):"":localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):[]}function p(e){O.innerHTML="",y(),J(e),e==="all"?l.filter(t=>!t.deleted).forEach(t=>{g(t.title,!1,t.completed,!1)}):e==="active"?S.forEach(t=>{g(t.title,!1,!1,!1)}):e==="completed"?b.forEach(t=>{g(t.title,!1,!0,!1)}):m.forEach(t=>{g(t.title,!1,t.completed,!0)})}function J(e){I.forEach(t=>{t.classList.contains("active")&&t.classList.remove("active")}),I.forEach(t=>{t.id===e&&t.classList.add("active")}),f=e,r("category",f,!0)}function u(){S=l.filter(e=>!e.completed&&!e.deleted),r("active-tasks",S),b=l.filter(e=>e.completed&&!e.deleted),r("completed-tasks",b),m=l.filter(e=>e.deleted),r("removed-tasks",m)}
